.engine {
  $root: &;

  position: absolute;
  transform-style: preserve-3d;

  &--left,
  &--right {
    @each $index in $wallHeights {
      #{$root}__segment {
        &:nth-child(#{index($wallHeights, $index)}) {
          @include ba {
            height: 8px;
          }
        }
      }
    }
  }

  &--left{
    transform:
      scale(.5)
      translate3d(-#{$engineRadius * 2}, 0, -10px)
      rotateY(-#{$angleFuselageBack / 2})
    ;
  }

  &--right{
    transform:
      scale(.5)
      translate3d(#{$engineRadius * 2}, 0, -10px)
      rotateY(#{$angleFuselageBack / 2})
    ;
  }

  &--center {
    #{$root}__segment {
      @each $index, $height in $wallHeights {
        &:nth-child(#{index($wallHeights, $index $height)}) {
          @include ba {
            height: $height;
          }
        }
      }
    }
  }

  &__segment {
    position: absolute;
    top: -$engineRadius / 2;
    left: -$engineSegment / 2;
    height: $engineRadius;
    width: $engineSegment;
    background: $engineGradient;
    transform-origin: 50% 50%;
    transform-style: preserve-3d;

    @for $i from 0 to $totalEngineSegment {
      &:nth-child(#{$i}) {
        transform: rotateZ(#{$i / ($totalEngineSegment * 2)}turn);
      }
    }

    &::before,
    &::after {
      content: "";
      position: absolute;
      width: 100%;
      background-color: darken(white, 50%);
    }

    &::before {
      top: 100%;
      transform: rotateX(90deg);
      transform-origin: 50% 0%;
    }

    &::after {
      bottom: 100%;
      transform: rotateX(-90deg);
      transform-origin: 50% 100%;
    }
  }
}
